services:
  - type: web
    name: anon-tg-bot
    env: python
    plan: free
    # Если используете приватный репозиторий
    repo: https://github.com/Volchonoc-cod/anon-tg-bot.git
    # или с SSH
    # repo: git@github.com:Volchonoc-cod/anon-tg-bot.git
    
    # Дополнительные настройки для приватных репозиториев
    buildCommand: |
      # Для GitHub с токеном
      if [ -n "$GITHUB_TOKEN" ]; then
        git config --global url."https://$GITHUB_TOKEN@github.com/".insteadOf "https://github.com/"
      fi
      
      # Устанавливаем зависимости
      pip install --upgrade pip
      pip install -r requirements.txt
    
    startCommand: python run_bot.py
    envVars:
      - key: GITHUB_TOKEN
        sync: false  # Не синхронизировать, вводится вручную
